<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Moritz Henkel">

<title>MyLabJournal - Data Acquisition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/icons/favicon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MyLabJournal</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-journal" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Journal</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-journal">    
        <li>
    <a class="dropdown-item" href="../../content/01_journal/01_tidyverse.html">
 <span class="dropdown-text">01 Tidyverse</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/01_journal/02_data_acquisition.html">
 <span class="dropdown-text">02 Data Acquisition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/01_journal/03_data_wrangling.html">
 <span class="dropdown-text">03 Data Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/01_journal/04_data_visualization.html">
 <span class="dropdown-text">04 Data Visualization</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../content/02_notes/05_class_notes.html">
 <span class="menu-text">Class notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../content/03_other/06_links.html">
 <span class="menu-text">Links</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul class="collapse">
  <li><a href="#api-working-frame" id="toc-api-working-frame" class="nav-link active" data-scroll-target="#api-working-frame"><span class="toc-section-number">1</span>  API Working Frame</a>
  <ul class="collapse">
  <li><a href="#load-libraries" id="toc-load-libraries" class="nav-link" data-scroll-target="#load-libraries"><span class="toc-section-number">1.1</span>  Load libraries</a></li>
  <li><a href="#build-urls" id="toc-build-urls" class="nav-link" data-scroll-target="#build-urls"><span class="toc-section-number">1.2</span>  Build URLs</a></li>
  <li><a href="#call-urls" id="toc-call-urls" class="nav-link" data-scroll-target="#call-urls"><span class="toc-section-number">1.3</span>  Call URLs</a></li>
  <li><a href="#create-dataframes" id="toc-create-dataframes" class="nav-link" data-scroll-target="#create-dataframes"><span class="toc-section-number">1.4</span>  Create Dataframes</a></li>
  <li><a href="#plot" id="toc-plot" class="nav-link" data-scroll-target="#plot"><span class="toc-section-number">1.5</span>  Plot</a></li>
  </ul></li>
  <li><a href="#webscraping" id="toc-webscraping" class="nav-link" data-scroll-target="#webscraping"><span class="toc-section-number">2</span>  Webscraping</a>
  <ul class="collapse">
  <li><a href="#collect-product-families-of-rose" id="toc-collect-product-families-of-rose" class="nav-link" data-scroll-target="#collect-product-families-of-rose"><span class="toc-section-number">2.1</span>  Collect Product Families of ROSE</a></li>
  <li><a href="#create-product-family-urls-of-rose" id="toc-create-product-family-urls-of-rose" class="nav-link" data-scroll-target="#create-product-family-urls-of-rose"><span class="toc-section-number">2.2</span>  Create product family URLs of Rose</a></li>
  <li><a href="#collect-product-categories-of-rose" id="toc-collect-product-categories-of-rose" class="nav-link" data-scroll-target="#collect-product-categories-of-rose"><span class="toc-section-number">2.3</span>  Collect Product categories of ROSE</a></li>
  <li><a href="#collect-bike-data-for-a-single-bike" id="toc-collect-bike-data-for-a-single-bike" class="nav-link" data-scroll-target="#collect-bike-data-for-a-single-bike"><span class="toc-section-number">2.4</span>  Collect Bike Data for a single bike</a></li>
  <li><a href="#wrap-it-into-a-function" id="toc-wrap-it-into-a-function" class="nav-link" data-scroll-target="#wrap-it-into-a-function"><span class="toc-section-number">2.5</span>  Wrap it into a function</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Acquisition</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Moritz Henkel </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="api-working-frame" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> API Working Frame</h1>
<section id="load-libraries" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="load-libraries"><span class="header-section-number">1.1</span> Load libraries</h2>
<pre><code>library(httr)
library(jsonlite)
library(tidyverse)
library(lubridate)
library(ggplot2)</code></pre>
</section>
<section id="build-urls" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="build-urls"><span class="header-section-number">1.2</span> Build URLs</h2>
<p>In this case I decided to go for some Macroeconimic Data. Consumer Price Index and the Producer Price Index. The URLs were build with the help of a base URL and then glued.</p>
<pre><code>base_url &lt;- "https://www.econdb.com/api/series/"
cpi_url &lt;- "CPIUS"
ppi_url &lt;- "PPIUS"

full_url_cpi &lt;- base::paste0(base_url,cpi_url)
full_url_ppi &lt;- base::paste0(base_url,ppi_url)</code></pre>
</section>
<section id="call-urls" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="call-urls"><span class="header-section-number">1.3</span> Call URLs</h2>
<p>Using and specifying the httr library we call our APIs</p>
<pre><code>api_call_cpi &lt;- httr::GET(full_url_cpi)
api_call_ppi &lt;- httr::GET(full_url_ppi)</code></pre>
</section>
<section id="create-dataframes" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="create-dataframes"><span class="header-section-number">1.4</span> Create Dataframes</h2>
<p>In the Next step we need to create our dataframes. Here we Use the rawtochar first and then the JSON package and lastly the mapdfr function. Finally we erade unnecessary columns and clean our data.</p>
<pre><code>api_cpi_char &lt;- base::rawToChar(api_call_cpi$content)
api_ppi_char &lt;- base::rawToChar(api_call_ppi$content)

api_cpi_JSON &lt;- jsonlite::fromJSON(api_cpi_char, flatten = TRUE)
api_ppi_JSON &lt;- jsonlite::fromJSON(api_ppi_char, flatten = TRUE)

api_cpi_tbl &lt;- api_cpi_JSON %&gt;%
  map_dfr( ~ .x %&gt;% as_tibble()) %&gt;%
  select(.,-c(value,status,"1:area_code","3:item_code","1220:base_code","GEO:None"))
api_ppi_tbl &lt;- api_ppi_JSON %&gt;%
  map_dfr( ~ .x %&gt;% as_tibble())


api_cpi_cleaned_tbl &lt;- api_cpi_tbl[-(1:6),] %&gt;% mutate(Date= as.Date(dates))
api_ppi_cleaned_tbl &lt;- api_ppi_tbl[-(1:6),] %&gt;% mutate(Date= as.Date(dates))</code></pre>
</section>
<section id="plot" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="plot"><span class="header-section-number">1.5</span> Plot</h2>
<p>In the Last step we can plot our data. Since we want a continous line showing the rise in the respective index, we use the geom_line. CPI First:</p>
<pre><code>  ggplot(api_cpi_cleaned_tbl, aes(x = Date, y = values, color = "darkred",lty = 'Consumer Price Index')) + 
   geom_line() + 
  scale_x_date(date_labels = "%Y-%m")</code></pre>
<p>With the corresping result: <a href="../../assets/img/cpi.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Caption"><img src="../../assets/img/cpi.png" class="img-fluid" alt="Caption"></a> And then also PPI:</p>
<pre><code> ggplot(api_ppi_cleaned_tbl, aes(x = Date, y = values, color="steelblue",lty = 'Produer Price Index')) + 
    geom_line() + 
    scale_x_date(date_labels = "%Y-%m")</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../../assets/img/ppi.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Caption"><img src="../../assets/img/ppi.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Caption</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="webscraping" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Webscraping</h1>
<p>This was really a lot of code, due to some really deeply nested html tags with the rosebike hompage. ## Libraries</p>
<pre><code></code></pre>
<pre><code>library(tidyverse) 
library(rvest)     
library(xope)
library(jsonlite)
library(glue) 
library(stringi)</code></pre>
<section id="collect-product-families-of-rose" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="collect-product-families-of-rose"><span class="header-section-number">2.1</span> Collect Product Families of ROSE</h2>
<p>Add the url.</p>
<pre><code>url_home &lt;- "https://www.rosebikes.de/fahrräder"</code></pre>
<p>Read in the HTML for the entire homepage</p>
<pre><code>html_home &lt;- read_html(url_home)</code></pre>
<p>Webscrape the product families from ROSE bikes.</p>
<pre><code>bike_family_tbl &lt;- html_home %&gt;%</code></pre>
<p>parent node</p>
<pre><code>html_nodes(".columns") %&gt;%</code></pre>
<p>Get the nodes for the families</p>
<pre><code>html_nodes(css = ".catalog-navigation__list-item &gt; a") %&gt;%</code></pre>
<p>And extract the information of the title attribute</p>
<pre><code>html_attr('title') %&gt;%</code></pre>
<p>Remove the product families Sale, bikefinder und schnell verfügbare Bikes</p>
<pre><code>discard(.p = ~stringr::str_detect(.x,"Sale|Bike Finder|Schnell verfügbare Bikes"))%&gt;%</code></pre>
<p>Convert vector to tibble</p>
<pre><code>enframe(name = "position", value ="family_class") %&gt;%
  
  mutate(
    family_id = str_glue("#{family_class}")
  )

bike_family_tbl</code></pre>
</section>
<section id="create-product-family-urls-of-rose" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="create-product-family-urls-of-rose"><span class="header-section-number">2.2</span> Create product family URLs of Rose</h2>
<p>Create bike family url tbl to point at the right nodes</p>
<pre><code>bike_family_url_tbl &lt;- html_home %&gt;%</code></pre>
<p>Parent node</p>
<pre><code>html_nodes(".columns") %&gt;%</code></pre>
<p>Get the nodes for the families once again</p>
<pre><code>html_nodes(css = ".catalog-navigation__list-item &gt; a") %&gt;%</code></pre>
<p>And extract the information of the href attribute for bike urls</p>
<pre><code>html_attr('href') %&gt;%</code></pre>
<p>Remove the product families sale, bikefinder und bikes mit kurzer lieferzeit-rennrad</p>
<pre><code>discard(.p = ~stringr::str_detect(.x,"/fahrräder/sale|/bike-finder|/bikes-mit-kurzer-lieferzeit-rennrad"))%&gt;%</code></pre>
<p>Convert vector to tibble</p>
<pre><code>enframe(name = "position", value ="subdirectory") %&gt;%
  
  mutate(
    url = glue("https://www.rosebikes.de{subdirectory}")
  ) %&gt;%
  </code></pre>
<p>Some categories are listed multiple times. We only need unique values</p>
<pre><code>  distinct(url)

bike_family_url_tbl</code></pre>
</section>
<section id="collect-product-categories-of-rose" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="collect-product-categories-of-rose"><span class="header-section-number">2.3</span> Collect Product categories of ROSE</h2>
<p>HTML Tags are deeply neste + JAVA, thus individual bike category data gathering Also many product Families had no further product categories.</p>
<p>Create URLs for the product categories.</p>
<pre><code>url_mtb &lt;- "https://www.rosebikes.de//fahrräder/mtb"
url_rennrad &lt;- "https://www.rosebikes.de/fahrräder/rennrad"
url_ebike &lt;- "https://www.rosebikes.de/fahrräder/e-bike"</code></pre>
<p>Finally be able to sort of avoid the deeply nested HTML tags and thus gather the data. Create tibbles for that.</p>
<pre><code>bike_category_mtb_tbl &lt;-  read_html(url_mtb) %&gt;%
  html_nodes(css = ".catalog-navigation__list-item &gt; a") %&gt;%
  html_attr('href') %&gt;%
  discard(.p = ~stringr::str_detect(.x,"/fahrräder/mtb$"))%&gt;%
  enframe(name = "position", value ="subdirectory") %&gt;% 
  mutate(url = glue("https://www.rosebikes.de{subdirectory}")) %&gt;%
  distinct(url)

bike_category_rennrad_tbl &lt;-  read_html(url_rennrad) %&gt;%
  html_nodes(css = ".catalog-navigation__list-item &gt; a") %&gt;%
  html_attr('href') %&gt;%
  discard(.p = ~stringr::str_detect(.x,"/fahrräder/rennrad$"))%&gt;%
  enframe(name = "position", value ="subdirectory") %&gt;% 
  mutate(url = glue("https://www.rosebikes.de{subdirectory}")) %&gt;%
  distinct(url)

bike_category_ebike_tbl &lt;-  read_html(url_ebike) %&gt;%
  html_nodes(css = ".catalog-navigation__list-item &gt; a") %&gt;%
  html_attr('href') %&gt;%
  discard(.p = ~stringr::str_detect(.x,"/fahrräder/e-bike$"))%&gt;%
  enframe(name = "position", value ="subdirectory") %&gt;% 
  mutate(url = glue("https://www.rosebikes.de{subdirectory}")) %&gt;%
  distinct(url)</code></pre>
<p>In theory you would need another “rest” tibble from all the product families not having product categories, but since this might interfere with the rest of my code due to the different nature of the path, I will not include the rest in the bike category tibble</p>
<pre><code>bike_category_rest_tbl &lt;- bike_family_url_tbl %&gt;%
  filter(!row_number() %in% c(1, 2, 4))

bike_category_tbl &lt;- rbind(bike_category_mtb_tbl,bike_category_rennrad_tbl,bike_category_ebike_tbl)</code></pre>
</section>
<section id="collect-bike-data-for-a-single-bike" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="collect-bike-data-for-a-single-bike"><span class="header-section-number">2.4</span> Collect Bike Data for a single bike</h2>
<p>Select first bike for the first category mtb url</p>
<pre><code>bike_category_url &lt;- bike_category_tbl$url[1]</code></pre>
<p>Get the URLs for the first bike of the first category</p>
<pre><code>html_bike_category  &lt;- read_html(bike_category_url)
bike_url_tbl        &lt;- html_bike_category %&gt;%
  html_nodes(css = ".align-middle &gt; a") %&gt;%
  html_attr('href') %&gt;%
  enframe(name = "position", value = "url")</code></pre>
<p>Get the description for the first bike of the first category</p>
<pre><code>bike_desc_tbl &lt;- html_bike_category %&gt;%
  
    html_nodes(".catalog-category-bikes__list-item") %&gt;%
    html_nodes(".catalog-category-bikes__content-subtitle") %&gt;%
    html_text() %&gt;%
    enframe(name = "position", value = "description")</code></pre>
<p>Stack all lists together</p>
<pre><code>bike_price_tbl &lt;- html_bike_category %&gt;%
  html_nodes (css =".catalog-category-bikes__price-title") %&gt;%
  html_text() %&gt;%
  enframe(name = "position", value = "price")

bike_name_tbl &lt;- html_bike_category %&gt;%
  html_nodes (css = ".basic-headline__title") %&gt;%
  html_text() %&gt;%
  discard(.p = ~stringr::str_detect(.x,"Cross Country|Beratung"))%&gt;%
  enframe(name ="position", value ="name")

single_bike_data_tbl &lt;-  bike_name_tbl %&gt;%
  left_join(bike_price_tbl) %&gt;%
  left_join(bike_desc_tbl) %&gt;%
  left_join(bike_url_tbl)</code></pre>
</section>
<section id="wrap-it-into-a-function" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="wrap-it-into-a-function"><span class="header-section-number">2.5</span> Wrap it into a function</h2>
<p>Put every single piece into a function</p>
<pre><code>get_bike_data &lt;- function(url) {
  html_bike_category &lt;- read_html(url)
  
  #Get the URLs
  html_bike_category  &lt;- read_html(bike_category_url)
  bike_url_tbl        &lt;- html_bike_category %&gt;%
    html_nodes(css = ".align-middle &gt; a") %&gt;%
    html_attr('href') %&gt;%
    enframe(name = "position", value = "url")
  
  #Get the descrition
  bike_desc_tbl &lt;- html_bike_category %&gt;%
    
    html_nodes(".catalog-category-bikes__list-item") %&gt;%
    html_nodes(".catalog-category-bikes__content-subtitle") %&gt;%
    html_text() %&gt;%
    enframe(name = "position", value = "description")
  
  #Get the price
  bike_price_tbl &lt;- html_bike_category %&gt;%
    html_nodes (css =".catalog-category-bikes__price-title") %&gt;%
    html_text() %&gt;%
    enframe(name = "position", value = "price")
  
  #Get the name
  bike_name_tbl &lt;- html_bike_category %&gt;%
    html_nodes (css = ".basic-headline__title") %&gt;%
    html_text() %&gt;%
    discard(.p = ~stringr::str_detect(.x,"Cross Country|Beratung"))%&gt;%
    enframe(name ="position", value ="name")
  
  #Stick everything together
  single_bike_data_tbl &lt;-  bike_name_tbl %&gt;%
    left_join(bike_price_tbl) %&gt;%
    left_join(bike_desc_tbl) %&gt;%
    left_join(bike_url_tbl)
}</code></pre>
<p>Run for all bike category urls, so we get the data for every bike</p>
<pre><code>bike_data_tbl &lt;- tibble()

# Loop through all urls
for (i in seq_along(bike_category_tbl$url)) {
  
  bike_category_url &lt;- bike_category_tbl$url[i]
  bike_data_tbl     &lt;- bind_rows(bike_data_tbl, get_bike_data(bike_category_url))
  
  # Wait between each request to reduce the load on the server 
  # Otherwise we could get blocked
  Sys.sleep(5)
  
  # print the progress
  print(i)
  
}</code></pre>
<p>Clean the data so we can have a look into the tibble.</p>
<pre><code>bike_data_cleaned_tbl &lt;- bike_data_tbl %&gt;%
  na.omit() %&gt;%
  select(.,-position)</code></pre>
<p>The result is shown below. <a href="../../assets/img/acqui.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Bike names and according prices as well as the description for it"><img src="../../assets/img/acqui.jpeg" class="img-fluid" alt="Bike names and according prices as well as the description for it"></a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","descPosition":"bottom","loop":true,"openEffect":"zoom"});</script>



</body></html>